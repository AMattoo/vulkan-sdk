<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Mali Vulkan SDK for Android 1.1.0: MaliSDK::FenceManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function()
{ (i[r].q=i[r].q||[]).push(arguments)}
,i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-35797182-1', 'auto');
ga('send', 'pageview');
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="top_banner.bmp"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mali Vulkan SDK for Android 1.1.0
<span id="malidevcenter"><a href="http://malideveloper.arm.com">Mali Developer Center</a></span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_mali_s_d_k_1_1_fence_manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_mali_s_d_k_1_1_fence_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MaliSDK::FenceManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_mali_s_d_k_1_1_fence_manager.html" title="The FenceManager keeps track of fences which in turn are used to keep track of GPU progress...">FenceManager</a> keeps track of fences which in turn are used to keep track of GPU progress.  
 <a href="class_mali_s_d_k_1_1_fence_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fence__manager_8hpp_source.html">fence_manager.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8ac8027b8043d5b0acd158f49e792451"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mali_s_d_k_1_1_fence_manager.html#a8ac8027b8043d5b0acd158f49e792451">FenceManager</a> (VkDevice device)</td></tr>
<tr class="memdesc:a8ac8027b8043d5b0acd158f49e792451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a8ac8027b8043d5b0acd158f49e792451">More...</a><br /></td></tr>
<tr class="separator:a8ac8027b8043d5b0acd158f49e792451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be4ea6ce88e3cf14564853b8b17885b"><td class="memItemLeft" align="right" valign="top"><a id="a6be4ea6ce88e3cf14564853b8b17885b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mali_s_d_k_1_1_fence_manager.html#a6be4ea6ce88e3cf14564853b8b17885b">~FenceManager</a> ()</td></tr>
<tr class="memdesc:a6be4ea6ce88e3cf14564853b8b17885b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a6be4ea6ce88e3cf14564853b8b17885b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0a76362852b266f478867f36726a1a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mali_s_d_k_1_1_fence_manager.html#ae0a76362852b266f478867f36726a1a6">beginFrame</a> ()</td></tr>
<tr class="memdesc:ae0a76362852b266f478867f36726a1a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begins the frame. Waits for GPU to trigger all outstanding fences. After begin frame returns, it is safe to reuse or delete resources which were used previously.  <a href="#ae0a76362852b266f478867f36726a1a6">More...</a><br /></td></tr>
<tr class="separator:ae0a76362852b266f478867f36726a1a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2520c1278550152a72042bbb65022e80"><td class="memItemLeft" align="right" valign="top"><a id="a2520c1278550152a72042bbb65022e80"></a>
VkFence&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mali_s_d_k_1_1_fence_manager.html#a2520c1278550152a72042bbb65022e80">requestClearedFence</a> ()</td></tr>
<tr class="memdesc:a2520c1278550152a72042bbb65022e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called internally by the <a class="el" href="class_mali_s_d_k_1_1_context.html" title="The Context is the primary way for samples to interact with the swapchain and get rendered images to ...">Context</a> whenever submissions to GPU happens. <br /></td></tr>
<tr class="separator:a2520c1278550152a72042bbb65022e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f7ac8e8e92d5e370bc7275fa95729d"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mali_s_d_k_1_1_fence_manager.html#a79f7ac8e8e92d5e370bc7275fa95729d">getActiveFenceCount</a> () const</td></tr>
<tr class="memdesc:a79f7ac8e8e92d5e370bc7275fa95729d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the number of fences which are inFlight on the GPU.  <a href="#a79f7ac8e8e92d5e370bc7275fa95729d">More...</a><br /></td></tr>
<tr class="separator:a79f7ac8e8e92d5e370bc7275fa95729d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c5232ae561ea861689474191981bea"><td class="memItemLeft" align="right" valign="top">VkFence *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mali_s_d_k_1_1_fence_manager.html#a74c5232ae561ea861689474191981bea">getActiveFences</a> ()</td></tr>
<tr class="memdesc:a74c5232ae561ea861689474191981bea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an array for the fences which are inFlight on the GPU.  <a href="#a74c5232ae561ea861689474191981bea">More...</a><br /></td></tr>
<tr class="separator:a74c5232ae561ea861689474191981bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_mali_s_d_k_1_1_fence_manager.html" title="The FenceManager keeps track of fences which in turn are used to keep track of GPU progress...">FenceManager</a> keeps track of fences which in turn are used to keep track of GPU progress. </p>
<p>Whenever we submit work to the GPU, it is our responsibility to make sure that the GPU is done using our resources before we modify or delete them. To implement this, we therefore use VkFences to keep track of all vkQueueSubmits. </p>

<p class="definition">Definition at line <a class="el" href="fence__manager_8hpp_source.html#l00037">37</a> of file <a class="el" href="fence__manager_8hpp_source.html">fence_manager.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8ac8027b8043d5b0acd158f49e792451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ac8027b8043d5b0acd158f49e792451">&#9670;&nbsp;</a></span>FenceManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MaliSDK::FenceManager::FenceManager </td>
          <td>(</td>
          <td class="paramtype">VkDevice&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>The Vulkan device </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fence__manager_8cpp_source.html#l00025">25</a> of file <a class="el" href="fence__manager_8cpp_source.html">fence_manager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae0a76362852b266f478867f36726a1a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0a76362852b266f478867f36726a1a6">&#9670;&nbsp;</a></span>beginFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MaliSDK::FenceManager::beginFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begins the frame. Waits for GPU to trigger all outstanding fences. After begin frame returns, it is safe to reuse or delete resources which were used previously. </p>
<p>We wait for fences which completes N frames earlier, so we do not stall, waiting for all GPU work to complete before this returns. </p>

<p class="definition">Definition at line <a class="el" href="fence__manager_8cpp_source.html#l00038">38</a> of file <a class="el" href="fence__manager_8cpp_source.html">fence_manager.cpp</a>.</p>

</div>
</div>
<a id="a79f7ac8e8e92d5e370bc7275fa95729d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79f7ac8e8e92d5e370bc7275fa95729d">&#9670;&nbsp;</a></span>getActiveFenceCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned MaliSDK::FenceManager::getActiveFenceCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the number of fences which are inFlight on the GPU. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of fences which can be waited for. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fence__manager_8hpp_source.html#l00062">62</a> of file <a class="el" href="fence__manager_8hpp_source.html">fence_manager.hpp</a>.</p>

</div>
</div>
<a id="a74c5232ae561ea861689474191981bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c5232ae561ea861689474191981bea">&#9670;&nbsp;</a></span>getActiveFences()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">VkFence* MaliSDK::FenceManager::getActiveFences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets an array for the fences which are inFlight on the GPU. </p>
<dl class="section return"><dt>Returns</dt><dd>Array of waitable fences. Call <a class="el" href="class_mali_s_d_k_1_1_fence_manager.html#a79f7ac8e8e92d5e370bc7275fa95729d">getActiveFenceCount</a> for the number of fences. </dd></dl>

<p class="definition">Definition at line <a class="el" href="fence__manager_8hpp_source.html#l00070">70</a> of file <a class="el" href="fence__manager_8hpp_source.html">fence_manager.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/vulkan-sdk/framework/<a class="el" href="fence__manager_8hpp_source.html">fence_manager.hpp</a></li>
<li>C:/vulkan-sdk/framework/<a class="el" href="fence__manager_8cpp_source.html">fence_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>MaliSDK</b></li><li class="navelem"><a class="el" href="class_mali_s_d_k_1_1_fence_manager.html">FenceManager</a></li>
    <li class="footer">
        <a class="copyright" href="http://www.arm.com/">(C) ARM Ltd. 2016</a>
    </li>
  </ul>
</div>
</body>
</html>
